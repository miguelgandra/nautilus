% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extractFeatures.R
\name{extractFeatures}
\alias{extractFeatures}
\title{Extract Features from Sensor Data Using Sliding or Aggregated Windows (Enhanced)}
\usage{
extractFeatures(
  data,
  variables = NULL,
  metrics = NULL,
  parameter.grid = NULL,
  enhanced.features = FALSE,
  id.col = "ID",
  datetime.col = "datetime",
  window.size = 5,
  aggregate = FALSE,
  downsample.to = NULL,
  response.col = NULL,
  response.aggregation = "majority",
  circular.variables = c("heading", "roll"),
  return.data = TRUE,
  save.files = FALSE,
  output.folder = NULL,
  output.suffix = NULL,
  n.cores = 1
)
}
\arguments{
\item{data}{A list of tables/data frames (one per individual), a single aggregated data table/data frame,
or a character vector of file paths to RDS files containing sensor data.}

\item{variables}{(Optional) A character vector of column names from \code{data} for which to calculate metrics.
If \code{parameter.grid} is supplied, this argument is ignored.}

\item{metrics}{(Optional) A character vector specifying the metrics to calculate.}

\item{parameter.grid}{(Optional) A data frame with columns: \code{variable}, \code{metric}, and optionally \code{window_seconds}.
If \code{window_seconds} is not provided, uses the global \code{window.size} parameter.}

\item{enhanced.features}{Logical. If TRUE, includes complex ecological features. Default FALSE.}

\item{id.col}{A character string specifying the column containing individual IDs.}

\item{datetime.col}{A character string specifying the column in \code{data} containing datetime information.}

\item{window.size}{An integer specifying the default size of the sliding or aggregation window, in seconds.}

\item{aggregate}{Logical. If TRUE, uses non-overlapping windows for initial feature extraction.}

\item{downsample.to}{NULL or numeric (seconds). If specified, aggregates features into non-overlapping windows.}

\item{response.col}{(Optional) A character string specifying the column containing response labels.}

\item{response.aggregation}{Method to aggregate \code{response.col}: "majority" or "any".}

\item{circular.variables}{Character vector specifying variables that should be treated as circular.}

\item{return.data}{Logical. If \code{TRUE}, returns processed data as a list.}

\item{save.files}{Logical. If \code{TRUE}, saves processed data as separate RDS files.}

\item{output.folder}{Directory where processed RDS files should be saved.}

\item{output.suffix}{Character string to append to output filenames.}

\item{n.cores}{Number of processor cores for parallel computation.}
}
\value{
A list of data frames with calculated features.
}
\description{
This function calculates specified metrics (e.g., mean, standard deviation, circular statistics,
and complex ecological features) for selected variables over a sliding window.
It can either retain the temporal resolution of the dataset or aggregate data into distinct,
non-overlapping windows. Enhanced version includes complex movement and behavioral features.
}
\details{
Enhanced version supports all original metrics plus complex ecological features:

Complex Features (when enhanced.features = TRUE):
\itemize{
\item "net_heading_change": Net change in heading over centered window
\item "cumulative_heading_change": Cumulative sum of absolute heading changes
\item "circular_variance_heading": Circular variance of heading values
\item "oscillation_regularity": Regularity of oscillatory patterns
\item "movement_predictability": Predictability using ratio of SD to mean
\item "movement_consistency": Consistency using SD metrics
\item "movement_smoothness": Smoothness using rate of change
\item "movement_jerk": Enhanced jerk calculation
\item "posture_stability": Stability from pitch/roll SD metrics
\item "turning_rate_variability": Variability in turning rates
\item "activity_index": Combined activity from multiple rates
\item "rolling_autocorrelation": Rolling autocorrelation
\item "zero_crossing_rate": Rate of zero crossings
\item "circling_behavior": Detection of circling patterns
\item "feeding_posture_index": Index for feeding posture detection
\item "depth_change_rate": Rate of depth changes
\item "depth_change_consistency": Consistency of depth changes
}
}
